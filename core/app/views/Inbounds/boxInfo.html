<style>
  .table td{
    vertical-align:middle;
  }

  .box_input{
    padding:4px;
    height:30px;
    width:50px;
  }
</style>

<table class="table table-bordered table-condensed" id="box_info_table" width="1000px;">
  <tr>
    <th colspan="3"></th>
    <th colspan="6" style="text-align:center">主箱</th>
    <th colspan="6" style="text-align:center">尾箱</th>
  </tr>
  <tr>
    <td width="50px;">采购ID</td>
    <td width="40px;">总数</td>
    <td width="40px;">输入</td>
    <td>每箱数量</td>
    <td>箱数</td>
    <td>每箱重量(kg)</td>
    <td>长(cm)</td>
    <td>宽(cm)</td>
    <td>高(cm)</td>
    <td>每箱数量</td>
    <td>箱数</td>
    <td>每箱重量(kg)</td>
    <td>长(cm)</td>
    <td>宽(cm)</td>
    <td>高(cm)</td>
  </tr>
#{list items:units, as:'unit'}
  <tr>
    <td style="vertical-align:middle;">#{if flag}${unit.id}#{/if}#{else }${unit.unit.id}#{/else}</td>
    <td style="vertical-align:middle;">#{if flag}${unit.shipmentQty()}#{/if}#{else }${unit.unit.shipmentQty()}#{/else}</td>
    <td style="vertical-align:middle;"><span id="cal"></span></td>
    <td>
      <input type='text' name='units[${unit_index-1}].mainBox.num'
             value='${unit.mainBox?.num}' data-real="${flag ? unit.shipmentQty() : unit.unit.shipmentQty()}"
             class="form-control box_input"/>
      <input type="hidden" name="units[${unit_index-1}].id" value="${unit.id}">
    </td>
    <td>
      <input type='text' name='units[${unit_index-1}].mainBox.boxNum' class="form-control box_input"
             value='${unit.mainBox?.boxNum}'/>
    </td>
    <td>
      <input type='text' class="form-control box_input" name='units[${unit_index-1}].mainBox.singleBoxWeight' value='${unit.mainBox?.singleBoxWeight}'/>
    </td>
    <td>
      <input type='text' class="form-control box_input" name='units[${unit_index-1}].mainBox.length' value='${unit.mainBox?.length}'/>
    </td>
    <td>
      <input type='text' class="form-control box_input" name='units[${unit_index-1}].mainBox.width' value='${unit.mainBox?.width}'/>
    </td>
    <td>
      <input type='text' class="form-control box_input" name='units[${unit_index-1}].mainBox.height' value='${unit.mainBox?.height}'/>
    </td>
    <td>
      <input type='text' class="form-control box_input" name='units[${unit_index-1}].lastBox.num' value='${unit.lastBox?.num}'/>
    </td>
    <td>
      <input class="form-control box_input" name='units[${unit_index-1}].lastBox.boxNum' value='${unit.lastBox?.boxNum}'/>
    </td>
    <td>
      <input class="form-control box_input" name='units[${unit_index-1}].lastBox.singleBoxWeight' value='${unit.lastBox?.singleBoxWeight}'/>
    </td>
    <td>
      <input class="form-control box_input" name='units[${unit_index-1}].lastBox.length' value='${unit.lastBox?.length}'/>
    </td>
    <td>
      <input class="form-control box_input" name='units[${unit_index-1}].lastBox.width' value='${unit.lastBox?.width}'/>
    </td>
    <td>
      <input class="form-control box_input" name='units[${unit_index-1}].lastBox.height' value='${unit.lastBox?.height}'/>
    </td>
  </tr>
  <tr style="display:none;">
    <td colspan="12" style="color:red"></td>
  </tr>
#{/list}
</table>
