#{extends 'main.html' /}
#{set title:'Product' /}
#{set 'moreStyles'}
    #{stylesheet 'products/product.css'/}
#{/set}
#{set 'moreScripts'}
    #{script 'products/product.js'/}
#{/set}
<div class="proList">
    <div class="func">
        <div class="grid_12">
            <input type="checkbox" id='prodAll'/>
            <label for="prodAll">
                <button>全选</button>
            </label> |
            <button class="prodInput" rel='#add_prod'>添加产品</button>
        </div>
        <!-- yes/no dialog -->
        <div class="addProduct" id="add_prod">
            <h2>添加一个新的 Product</h2>

        #{form @Products.p_create(), id:'add_form'}
            <table>
                <tr>
                    <td class="label"><label for="p.sku">SKU</label></td>
                    <td colspan="7"><input type="text" id='p.sku' name="p.sku" required="required"></td>
                </tr>
                <tr>
                    <td class="label"><label for="p.productName">PName</label></td>
                    <td colspan="7"><input class="v2" type="text" id='p.productName' required="required"
                                           name="p.productName"></td>
                </tr>
                <tr>
                    <td class="label"><label for="p.lengths">L</label></td>
                    <td><input class="v1" type="text" id='p.lengths' name="p.lengths"></td>
                    <td class="label"><label for="p.heigh">H</label></td>
                    <td><input class="v1" type="text" id='p.heigh' name="p.heigh"></td>
                    <td class="label"><label for="p.width">W</label></td>
                    <td><input class="v1" type="text" id='p.width' name="p.width"></td>
                    <td class="label"><label for="p.weight">Wt</label></td>
                    <td><input class="v1" type="text" id='p.weight' name="p.weight"></td>
                </tr>
                <tr>
                    <td class="label"><label for="p.category.categoryId">Category</label></td>
                    <td colspan="7">
                        #{if cates.size() == 0}
                            <input type="text" name="p.nocat" value="请添加 Category" readonly>
                        #{/if}
                        #{else }
                            <select id="p.category.categoryId" name="p.category.categoryId">
                                #{list items:cates, as:'cat'}
                                    <option value="${cat.categoryId}">${cat.categoryId}:${cat.name}</option>
                                #{/list}
                            </select>
                        #{/else}
                    </td>
                </tr>
            </table>
            <div class="end">&nbsp;</div>
            <!-- yes/no buttons -->
            <p>
                <button type="reset">重置</button>
            </p>
        #{/form}
            <p>
                <button id='addProdPostBtn'>创建</button>
                <button class="close">关闭</button>
            </p>
        </div>
    </div>
    <div class="itemList">
    #{if prods.size() <= 0}
        等待添加新产品
    #{/if}
    #{else }
        <div class="prod">
            <div class="info">基本信息</div>
            <div class="details">详细信息, 需要使用 tab</div>
        </div>
    #{/else}
    </div>
</div>

