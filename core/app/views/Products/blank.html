#{extends 'main.html' /}
#{set title:'创建新 Product' /}
#{set 'moreScripts'}
    #{script name: 'products/blank.coffee'/}
#{/set}

<div class="row-fluid">
  <div class="span12">
  #{info_row title:'基础信息'}
    <br/>
    <ul>
      <li class="text-error">请尽可能填写 长,宽,高,重量 这些参数, 因为这些参数是运输所需要的用到的计算参数!</li>
      <li class="text-error">长(包材)、宽(包材)、高(包材)、重量(包材)：是指包装好包材后整个产品的长宽高重量</li>
      <li class="text-error">长(产品)、宽(产品)、高(产品)、重量(产品)：是指还未包装的裸产品的长宽高重量</li>
    </ul>
  #{/info_row}

  #{errorMsgs /}
  #{flash_alert /}
    <form action="@{Products.create()}" method="post" id="create_product_form">
      <table class="table table-bordered table-condensed">
        <tr>
          <th>Category</th>
          <td>
            <input type="text" id="pro_category" name="pro.category.categoryId" value="${pro.category?.categoryId}" style="width:130px"
                   data-provide="typeahead" data-source="${categorys}" required="required">
          </td>

          <th>Family</th>
          <td>
            <input type="text" id="pro_family" name="pro.family.family" data-provide="typeahead"
                   data-source="${families}" value="${pro.family?.family}" style="width:130px" required="required">
          </td>

          <th>SKU</th>
          <td><input type="text" id="pro_sku" name="pro.sku" value="${pro.sku}" required="required"></td>
        </tr>

        <tr>
          <th>长(包材)</th>
          <td>
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.lengths" value="${pro.lengths}">
              <span class="add-on">mm</span>
            </div>
          </td>

          <th>宽(包材)</th>
          <td colspan="3">
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.width" value="${pro.width}">
              <span class="add-on">mm</span>
            </div>
          </td>
        </tr>

        <tr>
          <th>高(包材)</th>
          <td>
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.heigh" value="${pro.heigh}">
              <span class="add-on">mm</span>
            </div>
          </td>

          <th>重量(包材)</th>
          <td colspan="3">
            <div class="input-append">
              <input type="text" class="input-mini" name="pro.weight" value="${pro.weight}">
              <span class="add-on">Kg</span>
            </div>

            <div class="input-append">
              <input type="text" class="input-mini" id="pro_weight_g">
              <span class="add-on">g</span>
            </div>
          </td>
        </tr>

        <tr>
          <th>长(产品)</th>
          <td>
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.productLengths" value="${pro.productLengths}">
              <span class="add-on">mm</span>
            </div>
          </td>

          <th>宽(产品)</th>
          <td colspan="3">
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.productWidth" value="${pro.productWidth}">
              <span class="add-on">mm</span>
            </div>
          </td>
        </tr>

        <tr>
          <th>高(产品)</th>
          <td>
            <div class="input-append">
              <input type="text" style="width:100px" name="pro.productHeigh" value="${pro.productHeigh}">
              <span class="add-on">mm</span>
            </div>
          </td>

          <th>重量(产品)</th>
          <td colspan="3">
            <div class="input-append">
              <input type="text" class="input-mini" name="pro.productWeight" value="${pro.productWeight}">
              <span class="add-on">Kg</span>
            </div>

            <div class="input-append">
              <input type="text" class="input-mini" id="pro_productWeight_g">
              <span class="add-on">g</span>
            </div>
          </td>
        </tr>

        <tr>
          <th>申报价格(USD)</th>
          <td>
            <div class="input-prepend">
              <span class="add-on">$</span>
              <input type="text" style="width:100px" name="pro.declaredValue" value="${pro.declaredValue}">
            </div>
          </td>
          <th>申报品名(运输)</th>
          <td colspan="3">
            <input type="text" id="pro_declareName" name="pro.declareName" value="${pro.declareName}">
          </td>
        </tr>

        <tr>
          <th>用途(运输)</th>
          <td><input type="text" name="pro.useWay" value="${pro.useWay}"/></td>
          <th>中文品名(运输)</th>
          <td colspan="3"><input type="text" name="pro.chineseName" value="${pro.chineseName}"/></td>
        </tr>

        <tr>
          <th>销售等级</th>
          <td>
          #{select 'pro.salesLevel', items: models.product.Product.E.values(), value: pro.salesLevel, class:".select" /}
          </td>

          <th>上架状态</th>
          <td>
          #{select_enum name: "pro.marketState", items: models.product.Product.T.values(), value: pro.marketState/}
          </td>
          <th>UPC</th>
          <td><input type="text" name="pro.upc" value="${pro.upc}" required></td>
        </tr>

        <tr>
          <th>采购状态</th>
          <td>
          #{select_enum name: "pro.procureState", items: models.product.Product.P.values(), value: pro.procureState/}
          </td>

          <th>产品的生命周期</th>
          <td>
          #{select_enum name: "pro.productState", items: models.product.Product.L.values(), value: pro.productState/}
          </td>
          <th>Part Number</th>
          <td><input type="text" name="pro.partNumber" value="${pro.partNumber}" required></td>
        </tr>

        <tr>
          <th>上市时间</th>
          <td>
            <input type="date" name="pro.marketTime" value="${pro.marketTime}">
          </td>

          <th>退市时间</th>
          <td>
            <input type="date" name="pro.delistingTime" value="${pro.delistingTime}">
          </td>

          <th>UPC(JP)</th>
          <td><input type="text" name="pro.upcJP" value="${pro.upcJP}"></td>
        </tr>

        <tr>
          <th>产品名称</th>
          <td colspan="3">
            <input type="text" style="width:95%" id="pro_abbreviation" name="pro.abbreviation" value="${pro.abbreviation}"
                   required="required">
          </td>
          <th>Part Number(JP)</th>
          <td><input type="text" name="pro.partNumberJP" value="${pro.partNumberJP}"></td>
        </tr>

        <tr>
          <th>标题</th>
          <td>
            <input type="text" style="width:95%" value="${pro.productName}" name="pro.productName">
          </td>
          <th>副标题</th>
          <td colspan="3">
            <input type="text" style="width:95%" value="${pro.subtitle}" name="pro.subtitle">
          </td>
        </tr>

        <tr>
          <th>产品定位</th>
          <td colspan="5">
            <table class="table table-hover table-condensed table-bordered" id="locates_table">
              <tr>
                <th>Title</th>
                <th>Content</th>
              </tr>
            #{list items:pro.locate, as:'locate'}
              <tr>
                <td class="span4">
                  <textarea rows="2" style="width:90%" name="pro.locate[${locate_index - 1}].title">${locate
                  .title}</textarea>
                </td>
                <td>
                  <textarea rows="2" style="width:90%" name="pro.locate[${locate_index - 1}].content">${locate
                  .content}</textarea>
                </td>
                <td>
                  <a class="btn" name='delete_locate_row'>删除</a>
                </td>
              </tr>
            #{/list}
            </table>
            <a class="btn" rel="popover" content="不够?再来一行" placement="right"
               id="more_locate_btn" data-table="locates_table">
              <i class="icon-plus"></i> More
            </a>
          </td>
        </tr>

        <tr>
          <th>产品卖点</th>
          <td colspan="5">
            <table class="table table-hover table-condensed table-bordered" id="selling_points_table">
              <tr>
                <th>Title</th>
                <th>Content</th>
                <th>操作</th>
              </tr>
            #{list items:pro.sellingPoint, as:'point'}
              <tr>
                <td class="span4">
                  <textarea rows="2" style="width:90%" name="pro.sellingPoint[${point_index - 1}].title">${point.title}</textarea>
                </td>
                <td>
                  <textarea rows="2" style="width:90%" name="pro.sellingPoint[${point_index - 1}].content">${point.content}</textarea>
                </td>
                <td>
                  <a class="btn" name='delete_selling_point_row'>删除</a>
                </td>
              </tr>
            #{/list}
            </table>
            <a class="btn" rel="popover" content="不够?再来一行" placement="right"
               id="more_selling_point_btn" data-table="selling_points_table">
              <i class="icon-plus"></i> More
            </a>
          </td>
        </tr>
        <tr>
          <td colspan="6">
            <button class="btn btn-primary">创建</button>
          </td>
        </tr>
      </table>
    </form>
  </div>
</div>
